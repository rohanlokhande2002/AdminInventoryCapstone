# Datasource
quarkus.datasource.db-kind=mysql
quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/adminauth
quarkus.datasource.username=root
quarkus.datasource.password=Rohan@2002

# VERY IMPORTANT (tell Quarkus your real DB version)
quarkus.datasource.db-version=5.6.19

# Disable strict DB version check (dev-safe)
quarkus.hibernate-orm.database.version-check.enabled=false

# Disable Dev Services / Docker
quarkus.datasource.devservices.enabled=false

# Hibernate Configuration
# Set to none since Flyway will manage the schema
quarkus.hibernate-orm.database.generation=none

# Configure ID generation for MySQL (use IDENTITY/AUTO_INCREMENT instead of SEQUENCE)
quarkus.hibernate-orm.mapping.id.generator.strategy=identity

# Flyway Configuration - manages database schema migrations
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true

# HTTP / CORS
quarkus.http.port=9090
quarkus.http.cors.enabled=true
# Allow all localhost ports for development (you can restrict this in production)
quarkus.http.cors.origins=http://localhost:3000,http://localhost:5173
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
quarkus.http.cors.headers=accept,authorization,content-type,origin
quarkus.http.cors.credentials=true

# JWT Configuration
jwt.expiration.hours=24
jwt.issuer=adminauth

# JWT Signing Configuration
# For development: Using a simple secret key with HS256
# For production: Use RSA keys with RS256 algorithm
smallrye.jwt.sign.key.algorithm=HS256
smallrye.jwt.sign.key.secret=MySecretKeyForJWTTokenGeneration123456789012345678901234567890

# JWT Verification Configuration  
mp.jwt.verify.issuer=adminauth
mp.jwt.verify.algorithm=HS256
mp.jwt.verify.secret=MySecretKeyForJWTTokenGeneration123456789012345678901234567890
# Configure where to find roles in the JWT token (groups claim is default)
quarkus.smallrye-jwt.path.groups=groups
# Token header name (default is Authorization)
mp.jwt.token.header=Authorization
mp.jwt.token.cookie=

# Security Configuration
# Enable JWT authentication
quarkus.security.jwt.enabled=true
# Allow unauthenticated access to public endpoints (login, signup, etc.)
quarkus.security.users.embedded.enabled=false
# Allow anonymous access to endpoints marked with @PermitAll
quarkus.security.deny-unannotated-members=false
# Enable JWT authentication for REST endpoints
quarkus.http.auth.proactive=false
# Configure JWT token verification
quarkus.smallrye-jwt.enabled=true

# OpenAPI / Swagger UI Configuration
quarkus.smallrye-openapi.info-title=AdminAuth API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=Authentication and Authorization System API
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui

# File Upload Configuration
file.upload.directory=uploads/prescriptions
